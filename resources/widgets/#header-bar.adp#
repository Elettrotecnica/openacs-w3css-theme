<div class="w3-container w3-padding w3-gray">
  <a class="navbar-brand w3-btn w3-light-gray w3-bar-item w3-round w3-border"
     href="@subsite_url;literal@">
    <if @subsite_logo@ not nil>
      <img src="@subsite_logo;literal@" alt="Home">
    </if>
    <else>
      <div>#acs-subsite.Subsite_Home#</div>
    </else>
  </a>
</div>

<div
  class="w3-sidebar w3-bar-block w3-collapse w3-card w3-animate-right"
  style="width:200px;right:0;"
  id="oacs-sidebar">
  <button class="w3-bar-item w3-button w3-large w3-hide-large"
          onclick="w3_close()">Close &times;</button>
  <!-- NAVBAR START -->
  <if @navigation:rowcount@ defined>
    <widget src="navigation" &="navigation" ds="0" &="subsite_url" &="subsite_name">
  </if>
  <!-- NAVBAR END -->
  <widget src="login" ds="0" &="subsite_url">
</div>

<script <if @::__csp_nonce@ not nil> nonce="@::__csp_nonce;literal@"</if>>
  window.addEventListener('load', () => {
        for (const el of document.querySelectorAll('.w3-dropdown-click a.w3-button')) {
            const subMenu = el.nextElementSibling;
            if (subMenu && subMenu.matches('.w3-dropdown-content')) {
                el.addEventListener('click', function (evt) {
                    subMenu.classList.toggle('w3-show');
                });
            }
        }
    });
    window.addEventListener('click', (e) => {
        if (e.target.closest('.w3-dropdown-click')) {
            return;
        }
        for (const el of document.querySelectorAll('.w3-show')) {
            el.classList.remove('w3-show');
        }
    });
</script>
